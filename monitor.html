<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitor - Parental Control</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Material Symbols -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- Modular CSS -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/monitor.css">
    <link rel="stylesheet" href="components/buttons.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>

<body>
    <div class="monitor-container">
        <!-- Header -->
        <header class="monitor-header">
            <button class="back-button" onclick="MonitorHandlers.goBack()">
                <span class="material-symbols-outlined">arrow_back</span>
            </button>
            <div class="header-info">
                <h1 class="child-name">Activity Report</h1>
                <span class="last-updated">Updated just now</span>
            </div>
            <div class="child-avatar-header">
                <img src="assets/child-leo.png" alt="Child" class="child-avatar-img">
            </div>
        </header>

        <main class="monitor-main">
            <!-- Time Range Selector -->
            <div class="view-mode-selector">
                <button class="view-mode-btn active" onclick="MonitorHandlers.changeView('daily')">Daily</button>
                <button class="view-mode-btn" onclick="MonitorHandlers.changeView('weekly')">Weekly</button>
                <button class="view-mode-btn" onclick="MonitorHandlers.changeView('monthly')">Monthly</button>
            </div>

            <!-- Date Selector -->
            <div class="date-selector">
                <button class="date-nav-btn" onclick="MonitorHandlers.previousDay()">
                    <span class="material-symbols-outlined">chevron_left</span>
                </button>
                <div class="date-info-center">
                    <span class="date-badge">TODAY</span>
                    <span class="date-value" id="current-date-display">Wed, Oct 24</span>
                </div>
                <button class="date-nav-btn" onclick="MonitorHandlers.nextDay()">
                    <span class="material-symbols-outlined">chevron_right</span>
                </button>
                <button class="calendar-btn" onclick="MonitorHandlers.openDatePicker()">
                    <span class="material-symbols-outlined">calendar_month</span>
                </button>
            </div>

            <!-- Summary Card -->
            <div class="summary-card hero-card">
                <div class="screen-time-display">
                    <span class="time-label">Total Screen Time</span>
                    <span class="time-value" id="total-time">3h 45m</span>
                    <span class="time-remaining">1h 15m remaining</span>
                </div>
                <div class="insight-badge">
                    <span class="material-symbols-outlined">trending_up</span>
                    <span>15% less than yesterday</span>
                </div>
            </div>

            <!-- Category Breakdown -->
            <div class="category-card category-section">
                <div class="section-header">
                    <h2>Categories</h2>
                </div>
                <div class="category-breakdown">
                    <div class="category-bars-list">
                        <!-- Education -->
                        <div class="bar-item">
                            <div class="bar-header">
                                <span class="bar-label">Education</span>
                                <span class="bar-time">1h 20m</span>
                            </div>
                            <div class="progress-track app-color-track">
                                <div class="progress-fill app-color" style="width: 45%;"></div>
                            </div>
                        </div>

                        <!-- Entertainment -->
                        <div class="bar-item">
                            <div class="bar-header">
                                <span class="bar-label">Entertainment</span>
                                <span class="bar-time">1h 05m</span>
                            </div>
                            <div class="progress-track yt-color-track">
                                <div class="progress-fill yt-color" style="width: 35%;"></div>
                            </div>
                        </div>

                        <!-- Gaming -->
                        <div class="bar-item">
                            <div class="bar-header">
                                <span class="bar-label">Gaming</span>
                                <span class="bar-time">45m</span>
                            </div>
                            <div class="progress-track web-color-track">
                                <div class="progress-fill web-color" style="width: 20%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Usage Content Section -->
            <div class="apps-section">
                <div class="section-header">
                    <h2>Activity Log</h2>
                    <div class="header-actions">
                        <div class="select-wrapper">
                            <select class="category-select" onchange="MonitorHandlers.filterCategory(this.value)"
                                aria-label="Filter by Category">
                                <option value="all">All Categories</option>
                                <option value="education">Education</option>
                                <option value="entertainment">Entertainment</option>
                                <option value="gaming">Gaming</option>
                            </select>
                            <span class="material-symbols-outlined select-icon">expand_more</span>
                        </div>
                    </div>
                </div>

                <!-- Tab-like filters -->
                <div class="stats-tabs">
                    <button class="stats-tab active" onclick="MonitorHandlers.switchTab('all')">All</button>
                    <button class="stats-tab" onclick="MonitorHandlers.switchTab('app')">Apps</button>
                    <button class="stats-tab" onclick="MonitorHandlers.switchTab('youtube')">YouTube</button>
                    <button class="stats-tab" onclick="MonitorHandlers.switchTab('web')">Web</button>
                </div>

                <!-- Sub-filters (YouTube only) -->
                <div class="sub-filters hidden" id="yt-source-filters">
                    <span class="sub-filter-label">Source:</span>
                    <button class="sub-filter-chip active" onclick="MonitorHandlers.filterSource('all')">Both</button>
                    <button class="sub-filter-chip" onclick="MonitorHandlers.filterSource('app')">App</button>
                    <button class="sub-filter-chip" onclick="MonitorHandlers.filterSource('web')">Web</button>
                </div>



                <div class="stats-list" id="stats-list-container">
                    <!-- Apps -->
                    <div class="stat-item app-type" data-category="education">
                        <div class="stat-icon-box app-color">
                            <span class="material-symbols-outlined">school</span>
                        </div>
                        <div class="stat-details">
                            <div class="stat-name">Duolingo</div>
                            <div class="stat-meta">App • Education</div>
                        </div>
                        <div class="stat-time">55m</div>
                    </div>

                    <!-- YouTube (App) -->
                    <div class="stat-item youtube-type" data-source="app" data-category="education">
                        <div class="stat-icon-box yt-color">
                            <span class="material-symbols-outlined">play_circle</span>
                        </div>
                        <div class="stat-details">
                            <div class="stat-name">Khan Academy</div>
                            <div class="stat-meta">YouTube (App) • Education</div>
                        </div>
                        <div class="stat-time">40m</div>
                    </div>

                    <!-- YouTube (Web) -->
                    <div class="stat-item youtube-type" data-source="web" data-category="entertainment">
                        <div class="stat-icon-box yt-color">
                            <span class="material-symbols-outlined">public</span>
                        </div>
                        <div class="stat-details">
                            <div class="stat-name">MrBeast</div>
                            <div class="stat-meta">YouTube (Web) • Entertainment</div>
                        </div>
                        <div class="stat-time">25m</div>
                    </div>

                    <!-- Web -->
                    <div class="stat-item web-type" data-category="education">
                        <div class="stat-icon-box web-color">
                            <span class="material-symbols-outlined">public</span>
                        </div>
                        <div class="stat-details">
                            <div class="stat-name">wikipedia.org</div>
                            <div class="stat-meta">Web • Education</div>
                        </div>
                        <div class="stat-time">15m</div>
                    </div>

                    <div class="stat-item app-type" data-category="gaming">
                        <div class="stat-icon-box game-icon">
                            <span class="material-symbols-outlined">sports_esports</span>
                        </div>
                        <div class="stat-details">
                            <div class="stat-name">Minecraft</div>
                            <div class="stat-meta">App • Gaming</div>
                        </div>
                        <div class="stat-time">30m</div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="js/theme.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/monitor.js"></script>
</body>

</html>